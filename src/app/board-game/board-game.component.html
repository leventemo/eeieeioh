<mat-card>
	<mat-card-title>
		<span class="activity-type">Board Game</span><span class="title">{{ data.title }}</span>
		<mat-icon class="icon-inline" (click)="openDialogInfo()">info_outline</mat-icon>
	</mat-card-title>

	<mat-divider inset></mat-divider>

	<mat-card-content>
		<div *ngIf="isItAllDone">
			<lottie-player class="whole-page-img" src="/assets/img/candies.json" background="transparent" speed="1" loop
				autoplay>
			</lottie-player>
		</div>

		<div *ngIf="!isItAllDone" class="boardgame-grid">

			<div class="square square-start-and-finish">
				<div class="square-number spaced-out">START</div>
				<div class="markers-wrapper">
					<div *ngIf="playerA.position === 0" class="marker markerA">A</div>
					<div *ngIf="playerB.position === 0" class="marker markerB">B</div>
				</div>
			</div>

			<ng-container *ngFor="let card of currentPack; let i = index">
				<div class="square"
					[ngClass]="{ 'square-active': this.activePlayer.takingOn === (i + 1) && this.activePlayer.takingOn !== 0 }"
					(click)="openDialogBoardGame()">
					<div class="square-number">{{i + 1}}</div>
					<div class="markers-wrapper">
						<div *ngIf="playerA.position === i + 1" class="marker markerA"
							[ngClass]="{ 'marker-active': this.playerA.position !== 0 }">A</div>
						<div *ngIf="playerB.position === i + 1" class="marker markerB"
							[ngClass]="{ 'marker-active': this.playerB.position !== 0 }">B</div>
					</div>
				</div>
			</ng-container>

			<div class="square square-start-and-finish">
				<div class="square-number spaced-out">FINISH</div>
				<div class="markers-wrapper">
					<div class="marker markerA">A</div>
					<div class="marker markerB">B</div>
				</div>
			</div>

		</div>
	</mat-card-content>
	<mat-divider inset></mat-divider>
	<mat-card-actions align="end">
		<button *ngIf="!hasGameStarted" color="primary" mat-button (click)="start()">Start</button>
		<button color="primary" mat-button (click)="redirect()">Contents</button>
	</mat-card-actions>
</mat-card>
